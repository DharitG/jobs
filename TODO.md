# JobBright TODO List

**Legend:**
*   â¬œ = Not Started
*   ðŸš§ = In Progress / Blocked
*   âœ… = Done

---

## 1. Core Focus: Auto-Apply & Supporting Systems

This section covers the primary development focus, including the auto-apply mechanism and the systems it directly relies upon (scraping, matching, resume optimization, core UI).

### Auto-Apply Service (`services/autosubmit.py`)
*   ðŸš§ **Adapter Pattern (Form Policy):** Implement handling for site-specific quirks (EEOC modals, file uploads, scrolling). Needs site-specific examples.
*   ðŸš§ **CAPTCHA Strategy (Tier 2 - Auto-solve):** Implement `CaptchaGate.solve` using services like 2Captcha/Anti-Captcha. Requires external service integration.
*   â¬œ **CAPTCHA Strategy (Tier 3 - AI-solve):** Implement OCR/simple math solving for basic CAPTCHAs. Requires additional libraries/setup.
*   â¬œ **CAPTCHA Strategy (Tier 4 - Human-loop):** Implement escalation to a human review queue. Requires external service/tooling.
*   ðŸš§ **Error Telemetry & Artifacts:** Fully integrate error reporting (e.g., Sentry) and artifact storage (e.g., S3). Currently placeholders. *(Update: Basic local saving of HTML/Screenshot on failure added to autosubmit.py)*
*   â¬œ **Self-Healing & Testing:** Implement nightly synthetic runs, golden-path tests in CI. Requires CI setup.
*   ðŸš§ **Pro/Elite Tier Logic:** Refine unlimited quota logic (Pro) and implement actual throttling heuristics (Elite). Currently placeholders. *(Note: Quota check seems okay for Pro/Elite 'unlimited', throttling is just a sleep)*.
*   ðŸš§ **Complete Adapter Implementations:** Finish detailed logic for Greenhouse, Lever, Indeed, Workday adapters (custom questions, EEOC handling, specific form policies). (Basic Greenhouse/Lever adapters implemented for standard fields).
*   â¬œ **Full Human Emulation:** Implement robust fingerprinting, header rotation, proxy management.
*   â¬œ **Advanced Submission Verification:** Explore network hooks or email watching for more reliable success confirmation.

### Job Scraping (`services/scraping.py`, `crawler/job_crawler.py`)
*   âœ… **Scraping Implementation:** Fully implement and test Indeed (Playwright), Greenhouse (API), and Lever (API) adapters. (Greenhouse/Lever API modes implemented via `sites.yml` config)
*   â¬œ **Scraping Robustness:** Implement ToS checks/fallbacks, improve error handling, and establish a maintenance strategy for changing website structures.
*   â¬œ **Scheduling:** Implement job scheduling for the crawler (e.g., using Celery Beat).

### Job Matching (`services/matching.py`)
*   ðŸš§ **Matching Effectiveness:** Evaluate and potentially improve semantic matching quality (e.g., different embedding models, fine-tuning, better text extraction from source).

### Resume Optimization (`services/resume_optimizer.py`, `api/optimize.py`, NEW: `services/resume_tailoring.py`)
*   > **Strategy Shift (Option B):** Moving away from DOCX conversion/patching (`resume_optimizer.py`) towards frontend PDF parsing (`readPdf.ts`) + backend tailoring/ATS template generation (`resume_tailoring.py`). Old tasks below are likely deprecated unless reused conceptually.
*   â¬œ **(Deprecated) Parsing Robustness:** Improve DOCX parsing logic (`is_likely_heading`, `get_paragraph_type`, handle tables/columns) for better accuracy. Address `unoconv` dependency/alternatives.
*   â¬œ **(Deprecated) Patching Formatting Preservation:** Enhance `apply_patches_to_docx` to perform run-level edits to better preserve inline formatting.
*   ðŸš§ **Keyword Analysis Quality:** Consider using semantic embeddings instead of/alongside TF-IDF. Refine term relevance scoring. *(Relevant for new strategy)*
*   ðŸš§ **AI Rewrite Quality:** Test and tune the OpenAI prompt in `generate_rewrite_suggestion` for better results. *(Relevant for new strategy)*
*   âœ… **Database Integration:** Define and implement storage for the *structured* resume data generated by the new tailoring service. (Added `structured_data` JSONB column, migration, updated CRUD/API).
*   âœ… **Configuration:** Move hardcoded values (temp paths, API keys, model names) to `core/config.py`.
*   ðŸš§ **Error Handling & Logging:** Add more robust error handling and detailed logging throughout the *new* tailoring service and API.
*   ðŸš§ **Frontend Integration:** Develop UI components to interact with the *new* `/parse-and-tailor` API endpoint. (Initial upload/parse/tailor trigger implemented in ProfileImport.tsx)
*   --- **New Strategy Tasks** ---
*   â¬œ **Implement `resume_tailoring.py`: Preprocessing:** Implement `preprocess_text_items` to group/sort `TextItems` from frontend.
*   âœ… **Implement `resume_tailoring.py`: Section Identification:** Implement `identify_sections` using heuristics. (Refined heading detection, keyword matching, and contact info logic).
*   âœ… **Implement `resume_tailoring.py`: Data Extraction:** Implement `extract_structured_data` to populate `StructuredResume`. (Basic rule-based extraction for Exp/Edu added)
*   â¬œ **Implement `resume_tailoring.py`: LLM Tailoring:** Implement `tailor_content` using LangChain/LLM calls for objective, skills, highlights.
*   â¬œ **Connect API:** Ensure `/api/v1/resumes/parse-and-tailor` correctly calls the implemented service and handles DB saving.

### Core Frontend (Dashboard & Related)
*   ðŸš§ **Application Pipeline Dashboard (`app/dashboard/page.tsx`, `components/PipelineBoard.tsx`):** Polish UI, ensure reliable data fetching/updates from backend (tRPC `application.list` & `updateStatus`), handle edge cases and loading/error states.
*   ðŸš§ **Limited GPT Resume Edits UI (`components/ResumeEditModal.tsx`):** Connect UI to *new* backend `/parse-and-tailor` API endpoint and handle `StructuredResume` data. Resolve any TS path alias issues.

---

## 2. Near-Term Features (Partially Implemented)

Features with some backend structure or UI components already started.

*   ðŸš§ **Daily Streak Gamification (`components/DailyStreak.tsx`):** Implement backend logic and connect frontend component via tRPC.
*   ðŸš§ **VisaPulse (`services/visa_alerts.py`, `components/VisaPulse.tsx`):** Implement actual visa alert logic in the backend service. Ensure frontend correctly displays data and handles interactions (e.g., lawyer chat button).
*   ðŸš§ **GPT-4o Resume/Cover Letter Rewriting:** Implement backend service logic and connect `ResumeEditModal.tsx` or new components.
*   ðŸš§ **Interview Flash-Cards (`components/InterviewFlashCard.tsx`):** Implement backend LLM Q&A generation and connect frontend component via tRPC.
*   ðŸš§ **Priority Support Chat Bot (`components/SupportChatTrigger.tsx`):** Integrate with a third-party chat/support service.
*   ðŸš§ **VisaPulse In-app Lawyer Chat (`components/VisaPulse.tsx`):** Implement backend logic/integration for connecting users (if planned).
*   ðŸš§ **Mock Interview Scheduling (`components/MockInterviewScheduler.tsx`):** Implement backend scheduling logic and connect frontend component via tRPC.
*   ðŸš§ **Slack Alerts (`components/SlackAlertSettings.tsx`):** Implement backend integration for sending Slack notifications and connect frontend component via tRPC. *(Update: Basic backend service and test API endpoint /notifications/send-test-slack created)*.
*   ðŸš§ **Stripe Integration (`api/subs.py`, `pages/pricing.tsx`, tRPC `subscription` router):** Fully implement subscription creation, status checking, webhook handling. Connect frontend checkout flow and annual billing toggle. Implement paywall/upgrade prompts based on subscription status. *(Update: Backend API /create-checkout-session implemented. Webhook handlers for checkout.session.completed, customer.subscription.updated, customer.subscription.deleted implemented with DB updates. Needs: Price ID->Tier mapping config, Alembic migration, Testing, Frontend integration)*.
*   ðŸš§ **Personal Success Coach (`components/SuccessCoachSection.tsx`):** Implement backend logic for assigning/managing coaches and connect frontend component via tRPC.
*   ðŸš§ **Guaranteed RÃ©sumÃ© Review (`components/ResumeReviewSubmit.tsx`):** Implement backend workflow for managing submissions/feedback and connect frontend component via tRPC.
*   ðŸš§ **Referral Credits System (`components/ReferralSection.tsx`):** Implement backend logic for tracking referrals/credits and connect frontend component via tRPC.
*   ðŸš§ **Mini-milestones/Confetti/Badges (`components/MilestoneBadge.tsx`):** Implement backend triggers and connect frontend component via tRPC.
*   ðŸš§ **Affiliate Rev-share Tracking (`components/AffiliateDashboard.tsx`):** Implement backend logic and connect frontend component via tRPC.

---

## 3. Foundational Backend & Infrastructure

Core underlying systems, operational tasks, and compliance.

*   â¬œ **RBAC:** Implement Role-Based Access Control using Auth0 roles/permissions, protecting relevant API endpoints.
*   ðŸš§ **Configuration Management:** Ensure all secrets and environment-specific settings are loaded via `core/config.py` and not hardcoded. *(Partially verified)*.
*   ðŸš§ **Infrastructure (`infra/docker-compose.yml`):** Refine Docker Compose for robustness, potentially add health checks for Qdrant. *(Update: Pinned Qdrant, removed dev volumes/reload)*.
*   â¬œ **Deployment Pipeline:** Configure CI/CD (e.g., GitHub Actions to Render/AWS).
*   â¬œ **Managed Services:** Setup and configure managed Postgres/Redis/Qdrant for production.
*   â¬œ **Observability:** Setup Prometheus + Grafana (or Render Metrics), Logging Aggregation, Sentry Error Tracking.
*   â¬œ **Audit Logging:** Implement basic audit logging for critical actions.
*   â¬œ **Compliance:** Implement GDPR/CCPA Data Deletion endpoint/logic. Verify PII encryption at rest. Implement Scraper ToS Checks/API fallback.
*   â¬œ **Security Hardening:** Review dependencies, secrets management, implement rate limiting, configure firewalls. Conduct security audit before launch.

---


---

## 4. CI/CD & Near-Term Implementation Tasks

Tasks related to setting up deployment pipelines and implementing core logic identified on 2025-04-21.

*   âœ… **Backend CI Workflow:** Create GitHub Actions workflow (`.github/workflows/backend_ci.yml`) for linting (flake8, black) and testing (pytest) on pull requests.
*   âœ… **Implement LLM Resume Tailoring:** Implement the actual LLM call logic in `services/resume_tailoring.py` (`tailor_content` function) using the configured Azure OpenAI client. (Basic objective tailoring implemented)
*   âœ… **Frontend CI Workflow:** Create GitHub Actions workflow (`.github/workflows/frontend_ci.yml`) for linting and testing the frontend code (`opencrew/frontend`) on pull requests.
*   âœ… **Refine Backend Dockerfile:** Optimize `opencrew/backend/Dockerfile` for production deployment (e.g., multi-stage build, smaller image, non-root user) suitable for Railway.

## 4. Testing

*   ðŸš§ **Backend Unit/Integration Tests:** Write comprehensive Pytest tests... (âœ… Initial tests for resume_tailoring service added, manual verification needed due to runner issues).
*   ðŸš§ **Frontend Unit Tests (`vitest`):** Complete unit tests for remaining components and hooks. Ensure adequate coverage.
*   â¬œ **End-to-End Tests:** Write E2E tests (e.g., Cypress, Playwright) for critical user flows (signup, login, applying, optimizing resume, upgrading subscription).

---

## 5. Manual / Non-Coding Tasks

*   â¬œ Register `jobbright.ai` domain.
*   â¬œ Create wait-list page on Vercel (if needed).
*   â¬œ Book 5 international-student focus calls.
*   â¬œ Draft Privacy Policy & ToS (incl. AI disclosure).
